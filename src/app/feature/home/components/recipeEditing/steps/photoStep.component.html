<div class="grid gap-4">
  <div class="flex flex-col gap-2">
    <label for="photo-upload" class="text-sm font-medium text-on-surface-light">Recipe Photo</label>
    <div class="flex items-center gap-3">
      <input 
        type="file" 
        id="photo-upload" 
        accept="image/*" 
        (change)="onFileChange($event)" 
        class="hidden" 
        #fileInput 
      />
      <app-custom-button 
        icon="upload" 
        variant="secondary" 
        buttonType="button" 
        (clicked)="fileInput.click()">
        Choose Photo
      </app-custom-button>
      <span class="text-sm text-on-surface-variant-light">{{ fileName || 'No file selected' }}</span>
    </div>
  </div>

  @if(preview) {
  <div class="mt-3">
    <img 
      [src]="isBase64(preview) ? preview : (preview | cacheBust)" 
      alt="Recipe preview" 
      class="max-h-60 rounded-lg border shadow-md" 
    />
  </div>
  }
</div>