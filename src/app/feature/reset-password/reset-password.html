<div class="min-h-screen flex flex-col items-center justify-center bg-background-light p-6">
    <div class="bg-surface-light rounded-xl shadow-lg p-8 w-full max-w-sm flex flex-col items-center animate-fade-in">

        @if(!state.success){<h2 class="text-2xl font-semibold mb-6 text-primary-light">Reset Password</h2>
        <form class="w-full" #form="ngForm" (ngSubmit)="submit(form)">
            <div class="mb-4 flex flex-col w-full">
                <label for="newPassword" class="mb-2 text-on-surface-light text-base">New password</label>
                <div class="relative">
                    <input [(ngModel)]="state.newPassword" [type]="showPassword ? 'text' : 'password'" id="newPassword"
                        name="newPassword" required
                        class="p-3 pr-10 rounded-lg bg-surface-variant-light text-on-surface-variant-light text-base focus:outline-none focus:ring-2 focus:ring-primary-light w-full" />
                    <button type="button" (click)="showPassword = !showPassword"
                        class="absolute right-3 top-1/2 -translate-y-1/2 text-primary-light focus:outline-none">
                        @if(!showPassword){
                        <span class="material-icons">visibility</span>
                        } @else {
                        <span class="material-icons">visibility_off</span>
                        }
                    </button>
                </div>
            </div>
            <div class="mb-4 flex flex-col w-full">
                <label for="confirmPassword" class="mb-2 text-on-surface-light text-base">Confirm password</label>
                <div class="relative">
                    <input [(ngModel)]="state.confirmPassword" [type]="showConfirmPassword ? 'text' : 'password'"
                        id="confirmPassword" name="confirmPassword" required
                        class="p-3 pr-10 rounded-lg bg-surface-variant-light text-on-surface-variant-light text-base focus:outline-none focus:ring-2 focus:ring-primary-light w-full" />
                    <button type="button" (click)="showConfirmPassword = !showConfirmPassword"
                        class="absolute right-3 top-1/2 -translate-y-1/2 text-primary-light focus:outline-none">
                        @if(!showConfirmPassword){
                        <span class="material-icons">visibility</span>
                        } @else {
                        <span class="material-icons">visibility_off</span>
                        }
                    </button>
                </div>
            </div>
            <button type="submit"
                class="w-full p-3 rounded-lg bg-primary-light text-on-primary-light font-semibold mt-4 hover:bg-primary-container-light transition-colors">Reset
                Password</button>
            <p class="mt-4 text-center text-sm text-error-light">
                {{ state.message }}
            </p>

        </form>} @else {
        <div class="flex flex-col items-center justify-center gap-7">
            <mat-icon class="!text-primary-light text-4xl mb-2">check_circle</mat-icon>
            <h2 class="text-xl font-bold mb-2 text-primary-light">{{ state.message }}</h2>
            <p class="text-base text-on-surface-light text-center">You can close this page and move to the application
            </p>
        </div>
        }
    </div>
</div>